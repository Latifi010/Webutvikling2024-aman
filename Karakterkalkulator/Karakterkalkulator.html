<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karakterkalkulator - TEST 2 </title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
            font-size: 18px;
        }
        main {
            width: 100%;
            max-width: 900px;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 1rem;
            padding: 1rem;
        }
        section {
            padding: 1rem;
            min-width: 400px;
        }
        ul {
            line-height: 1.5rem;
        }
        input {
            border: none;
            padding: .2rem;
            display: inline-block;
            width: 3rem;
            font-size: 1rem;
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        }
        #score {
            background: silver;
        }
        #result {
            width: 100%;
            align-self: flex-end;
            background: green;
            color: white;
        }
        #result span {
            font-size: 2rem;
        }
        button {
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
            font-weight: 500;
            background: lightyellow;
            color: darkolivegreen;
            border: 1px solid darkolivegreen;
            padding: 1rem;
            font-size: 1rem;
        }
    </style>
</head>
<body>
    <main>
        <section id="info">
            <h2>Oppgaver, krav og vekt</h2>
            <ul>
                <li><strong>Oppgave 1</strong><br />Vekt: 30%<br />Totalt poeng: 10</li>
                <li><strong>Oppgave 2</strong><br />Vekt: 70%<br />Totalt poeng: 12</li>
            </ul>
        </section>
        <section id="score">
            <h2>Dine poeng</h2>
            <p><strong>Oppgave 1</strong></p>
            <p>Poeng <input type="number" value="0" class="taskcount" id="task1count" max="10" min="0"/> av totalt 10</p>
            <p><strong>Oppgave 2</strong></p>
            <p>Poeng <input type="number" value="0" class="taskcount" id="task2count" max="12" min="0"/> av totalt 12</p>
            <button id="calculate">Beregn</button>
        </section>
        <section id="result">
            <h3>Resultat:</h3>
            <p id="result-formula">Fyll inn poeng i skjemaet over og klikk Beregn-knappen...</p>
        </section>
    </main>

    <script>
        // Karakterskala
        const grades = [
            {grade: "F", treshold: 0},
            {grade: "E", treshold: 25},
            {grade: "D", treshold: 44},
            {grade: "C", treshold: 68},
            {grade: "B", treshold: 88},
            {grade: "A", treshold: 100}
        ];

        // Kalkulasjonsformel
        document.getElementById("calculate").addEventListener("click", (event) => {
            const task1 = parseFloat(document.getElementById("task1count").value);
            const task2 = parseFloat(document.getElementById("task2count").value);

            // Sjekk at verdier er mellom 0 og maks poeng
            if (isNaN(task1) || isNaN(task2) || task1 < 0 || task1 > 10 || task2 < 0 || task2 > 12) {
                alert("Vennligst fyll inn gyldige poeng for begge oppgavene.");
                return;
            }

            // Beregn prosentandel for hver oppgave
            const total = (0.3 * (task1 / 10 * 100)) + (0.7 * (task2 / 12 * 100));

            // Finn riktig karakter basert pÃ¥ prosentandel
            let karakter = "F";
            for (let i = grades.length - 1; i >= 0; i--) {
                if (total >= grades[i].treshold) {
                    karakter = grades[i].grade;
                    break;
                }
            }

            // Vis resultatet
            document.getElementById("result-formula").innerHTML = `
                <p>Formel: 30% * (${task1} av 10 poeng) + 70% * (${task2} av 12 poeng) =<br /> 
                Totalt ${total.toFixed(2)}% av 100% =<br /><span>Karakter ${karakter}</span></p>`;
        });
    </script>
</body>
</html>
